# 認証とセキュリティ

## 認証
- Google OAuth2 ログイン
- 許可メールアドレスのホワイトリスト(1件)
- 一般ユーザーは閲覧のみ、管理者のみ作成/編集/削除
- SupabaseのAuth FlowはPKCEを利用

## 権限制御(詳細)
- Supabase Authでログイン済みかつメール一致のみ管理者扱い
- 許可メールは環境変数で管理(例: ADMIN_EMAIL, NEXT_PUBLIC_ADMIN_EMAIL)
- API側で必ず管理者チェックを実施(画面の表示制御だけに依存しない)
- ログイン成功でも許可メール不一致なら管理者操作は拒否
- 許可メール不一致の場合はログアウト状態に戻し通知を表示

## 入力バリデーション
- タグ: 各10文字以内、自由入力
- カテゴリ: 10文字以内
- 良かったポイント: 2000文字以内
- メモ: 2000文字以内
- 良かったレベル: 1-5
- UIとAPIの両方でバリデーションを実施
- エラー時は入力欄の背景とメッセージで強調表示

## Markdown安全性
- 生HTMLは無効
- 出力はエスケープ
- 画像埋め込みは許可

## 公開範囲
- リスト/詳細は完全公開
- 管理者操作は認証と権限で保護
